---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 02-preparing-data.md in _episodes_rmd/
title: "Preparing Data"
teaching: 30
exercises: 0
questions:
- "What to do before you can bring the data into R?"
objectives:
- "Identify different data types"
- "Recognise different types of visualisations"
keypoints:
- "Data should have 1 observation per row."
source: "Rmd"
---



First, we need to load the `tidyverse` package (actually a collection of packages).


~~~
library(tidyverse)
~~~
{: .language-r}

We can now load the **Pattani** data from the Excel file. For the notes, this is stored
in the `data` directory. It might be different for you.


~~~
path <- file.path("..", "data", "Pattani.xlsx")
pattani <- readxl::read_excel(path, sheet = "Data", skip = 1)
~~~
{: .language-r}

`readxl::read_excel` is used to explicitly call the `read_excel` function in the `readxl`
package.

We would like to see what the data looks like now that it has been read into R. You can
just type the name of the dataset.


~~~
pattani
~~~
{: .language-r}



~~~
# A tibble: 434 x 8
      ID `blood lead`   age gender school   duration water `ln(blood lead)`
   <dbl>        <dbl> <dbl> <chr>  <chr>       <dbl> <chr>            <dbl>
 1     1         11.7    13 Boy    Tangkad~       13 Boil              2.46
 2     2         11.8    13 Boy    Tangkad~        5 Boil              2.47
 3     3          6.4    13 Girl   Tangkad~       13 Stand             1.86
 4     4          6.9    11 Girl   Tangkad~       11 Boil              1.93
 5     5         10.3    13 Girl   Tangkad~        5 Boil              2.33
 6     6          8.3    13 Girl   Tangkad~       13 Filt~             2.12
 7     7          6.2    13 Girl   Tangkad~        5 Filt~             1.82
 8     8          9.4    13 Boy    Tangkad~       13 Stand             2.24
 9     9         14.9    11 Boy    Tangkad~       11 Boil              2.70
10    10          8.1    11 Girl   Tangkad~       11 Filt~             2.09
# ... with 424 more rows
~~~
{: .output}

Having names with spaces in them can make them more difficult to work with. We can add to
the way that we read the file to modify the names.


~~~
pattani <- readxl::read_excel(path, sheet = "Data", skip = 1) %>%
  rename(blood_lead = `blood lead`, ln_blood_lead = `ln(blood lead)`)
~~~
{: .language-r}

{% include links.md %}
